# Инструкции виртуальной машины

Виртуальная машина считывает бинарный файл, в котором могут быть закодированы следующие команды:
* `add` - добавить к первому операнду второй
    * Кодируется следующей последовательностью `0 <first_lvl> <first_arg> <second_lvl> <second_arg>`
    * `lvl`
        * `int`
        * отвечает за то, сколько раз будет сделано разыменование
    * `arg`
        * `register` / `int`
        * регистр или константа
    *  Если `lvl == 0`, то `arg` обязан быть константой
* `call` - вызвать функцию
    * Кодируется следующей последовательностью `1 0 <label> 0 0`
    * `label`
        * `int`
        * метка функции
* `exit` - закончить работу
    * Кодируется следующей последовательностью `2 0 0 0 0`
* `funcb` - начать описание функции
    * Кодируется следующей последовательностью `3 0 <label> 0 0`
    * `label`
        * `int`
        * метка функции
* `funce` - закончить описание функции
    * Кодируется следующей последовательностью `4 0 0 0 0`
* `goto` - перейти на несколько инструкций вперед, если первый операнд не нуль
    * Кодируется следующей последовательностью `5 <lvl> <arg> 0 <offset>`
    * `offset`
        * `int`
        * Задает количество инструкций, которые надо пропустить
* `mov` - переместить второй операнд в первый
    * Кодируется следующей последовательностью `6 <first_lvl> <first_arg> <second_lvl> <second_arg>`
* `pop` - сдвинуть указатель стека вперед
    * Кодируется следующей последовательностью `7 0 0 0 0`
* `print` - напечатать операнд
    * Кодируется следующей последовательностью `8 <lvl> <arg> 0 0`
* `push` - полоджить операнд в стек
    * Кодируется следующей последовательностью `9 <lvl> <arg> 0 0`
* `putstr` - напечатать текст
    * Кодируется следующей последовательностью `10 <static_offset> <length> 0 0`
    * `static_offset`
        * `int`
        * Указывает, на сколько надо сместиться относительно начала области со статичными данными
    * `length`
        * `int`
        * Указывает, сколько символов надо прочитать
* `read` - прочитать пользовательский ввод
    * Кодируется следующей последовательностью `11 <lvl> <arg> 0 0`
* `sub` - вычесть второй операнд из первого
    * Кодируется следующей последовательностью `12 <first_lvl> <first_arg> <second_lvl> <second_arg>`
